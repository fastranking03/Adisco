<html lang="en"></html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adisco | Professional </title>
    <%- include('includes/head') %>
</head>
 
<body>
    <div>
        <div class="flex">
            <%- include('includes/side-bar') %>

                <div class="pages">
                    <div>
                        <%- include('includes/header') %>
                    </div>
                    <!-- Page Content -->
                    <div class="p-5 mt-5">
                        <div>
                            <div class="flex items-center justify-between">
                                <h3 class="text-2xl font-[500]">Professionals List</h3>
                                <div>
                                    <a href="#" id="openModal" class="p-3 px-5 bg-orange-400 rounded-[5px] text-white">Add Professional</a>
                                </div>
                            </div>
                            <div class="mt-8">
                                <div class="overflow-x-auto">
                                    <table class="w-[100%]">
                                        <thead class="bg-blue-100 border-b-[2px]">
                                            <tr>
                                                <th class="p-3 text-left">Sr.No</th>
                                                <th class="p-3 text-left">Name</th>
                                                <th class="p-3 text-left">Work Type</th>
                                                <th class="p-3 text-left">Phone</th>
                                                <th class="p-3 text-left">Email</th>
                                                 <th class="p-3 text-left">Created At</th>
                                                <th class="p-3 text-left">Action</th>
                                             </tr>
                                        </thead>
                                        <tbody>
                                        <% proData.forEach((data ,index) =>{ %> 
                                            <tr>
                                                <td class="p-3 px-3"><%= index + 1 %></td>
                                                <td class="p-3 px-3"><%= data.name %></td>
                                                <td class="p-3 px-3"><%= data.work_type %></td>
                                                <td class="p-3 px-3"><%= data.phone %></td>
                                                <td class="p-3 px-3"><%= data.email %></td>
                                                <td class="p-3 px-3">
                                                    <%= (() => {
                                                        let date = new Date(data.created_at);
                                                        return `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;
                                                      })() %>
                                                </td>
                                                <td class="p-3 px-3 flex gap-2">
                                                    <a href="/admin/delete-professional/<%= data.id %>" style="align-items: center;"  class="w-[25px] h-[25px] border-[1px] rounded-[3px] flex justify-center" onclick="return confirm('Are you sure you want to delete this engine?');">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                                                        <path fill="#f41010" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"/>
                                                      </svg>
                                                    </a>
    
                                                    <a href="/admin/edit-professionals/<%= data.id %>" style="align-items: center;" class="w-[25px] h-[25px] border-[1px] rounded-[3px]  flex justify-center">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                                                        <g fill="none" stroke="#45a16d" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                                                          <path d="M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1"/>
                                                          <path d="M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3zM16 5l3 3"/>
                                                        </g>
                                                      </svg>
                                                    </a>
                                                  </td>
                                            </tr>
                                        <% }) %>  
                                        </tbody>
                                    </table>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
        </div>
    </div>

         <div class="modal">
             <div class="modal-content absolute bg-white rounded-[10px] sm:w-[500px]">
                <div class="modal-header p-3 border-b-[1px] flex justify-between item-center py-4">
                    <h3 class="text-[20px] font-[700]">Add Professional</h3>
                    <span class="close-button cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#f20d0d" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6z"/></svg></span>
                </div>
                <div class="modal-body p-3 ">
                     <form action="/admin/add-professional" method="post">
                       
                         <div class="mt-2">
                            <label for="name" class="font-[600]">Name</label>
                            <input type="text" class="w-[100%] outline-none p-2 border-[1px] rounded-[10px] mt-2" name="name" required>
                         </div>
                         <div class="mt-2">
                            <label for="name" class="font-[600]">Email</label>
                            <input type="text" class="w-[100%] outline-none p-2 border-[1px] rounded-[10px] mt-2" name="email" required>
                         </div>
                         <div class="mt-2">
                            <label for="name" class="font-[600]">Phone</label>
                            <input type="text" class="w-[100%] outline-none p-2 border-[1px] rounded-[10px] mt-2" name="phone" required>
                         </div>
                         <div class="mt-2">
                            <label for="name" class="font-[600]">Work Type</label>
                            <input type="text" class="w-[100%] outline-none p-2 border-[1px] rounded-[10px] mt-2" name="work_type" required>
                         </div>
                         <div class="mt-2">
                            <label for="name" class="font-[600]">Password</label>
                            <input type="text" class="w-[100%] outline-none p-2 border-[1px] rounded-[10px] mt-2" name="password" required>
                         </div>
                         <div class="text-right mt-5">
                            <button type="submit" class="p-2 px-5 bg-orange-400 text-white rounded-[5px]">Submit</button>
                         </div>
                     </form>
                </div>
             </div>
        </div>

 </body>
<script>
    var modal = document.querySelector(".modal");
        var trigger = document.querySelector("#openModal");
        var closeButton = document.querySelector(".close-button");

        function toggleModal() {
            modal.classList.toggle("show-modal");
        }

        function windowOnClick(event) {
            if (event.target === modal) {
                toggleModal();
            }
        }

        trigger.addEventListener("click", toggleModal);
        closeButton.addEventListener("click", toggleModal);
        window.addEventListener("click", windowOnClick);

</script>
</html>