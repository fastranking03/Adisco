<html lang="en">

</html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adisco | All Appointment </title>
    <%- include('includes/head') %>
</head>

<body>
    <div>
        <div class="flex">
            <%- include('includes/side-bar') %>

                <div class="pages">
                    <div>
                        <%- include('includes/header') %>
                    </div>
                    <!-- Page Content -->
                    <div class="p-5 mt-5">
                        <div>
                            <div class="flex items-center justify-between">
                                <h3 class="text-2xl font-[500]">All Appointment List</h3>

                            </div>
                            <div class="mt-8">
                                 
                                <table class="w-[100%]">
                                    <thead class="bg-blue-100 border-b-[2px]">
                                        <tr>
                                            <th class="p-3 text-left">Sr.No</th>
                                            <th class="p-3 text-left">Name</th>
                                            <th class="p-3 text-left">Slot Time</th>
                                            <th class="p-3 text-left">Slot Date</th>
                                            <th class="p-3 text-left">Created At</th>
                                            <th class="p-3 text-left">Action</th>
                                         </tr>
                                    </thead>
                                    <tbody>
                                <% appData.forEach((data,index) =>{ %>     
                                     <tr>
                                        <td class="p-3 px-3"><%= index + 1 %></td>
                                        <td class="p-3 px-3"><%= data.name %></td>
                                        <td class="p-3 px-3"><%= data.service_time %></td>
                                        <td class="p-3 px-3"><%= data.service_date %></td>
                                        <td class="p-3 px-3">
                                            <%= (() => {
                                                let date = new Date(data.created_at);
                                                return `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;
                                              })() %>
                                        </td>
                                        <td class="p-3 px-3 flex gap-2">
                                          <form action="" method="post">
                                             <button type="submit" style="align-items: center;"  class="w-[25px] h-[25px] border-[1px] rounded-[3px] flex  justify-center" onclick="return confirm('Are you sure you want to delete this Slot?');">
                                              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                                                <path fill="#f41010" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"/>
                                              </svg>
                                            </button>
                                            <input type="hidden" value="<%= data.id %>" name="id">
                                         </form>
                                              <a href="/admin/edit-slot/<%= data.id %>" style="align-items: center;" class="w-[25px] h-[25px] border-[1px] rounded-[3px]  flex justify-center">
                                              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
                                                <g fill="none" stroke="#45a16d" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                                                  <path d="M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1"/>
                                                  <path d="M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3zM16 5l3 3"/>
                                                </g>
                                              </svg>
                                            </a>
                                          </td>
                                     </tr>
                                <%  })   %>       
                                    </tbody>
                                </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </div>


        <%- include('includes/foot') %>

</body>

</html>